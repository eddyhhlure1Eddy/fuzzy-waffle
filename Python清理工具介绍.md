# Python系统残留清理工具

![Python清理工具](https://img.shields.io/badge/Python-清理工具-blue)
![PySide6](https://img.shields.io/badge/GUI-PySide6-green)
![平台](https://img.shields.io/badge/平台-Windows%7CmacOS%7CLinux-lightgrey)

## 📝 项目简介

Python系统残留清理工具是一个图形化应用程序，用于扫描和清理Python开发过程中产生的各种残留文件，帮助开发者释放磁盘空间、保持系统整洁。

## ✨ 主要特性

- **多类型文件清理**：支持清理多种Python相关的缓存和临时文件
  - __pycache__ 目录
  - .pyc 编译文件
  - 长期未使用的虚拟环境
  - Jupyter笔记本缓存和检查点
  - 临时Python文件（.pyc.tmp, .py~, .pyo）
  - 构建目录（build, dist, *.egg-info）

- **用户友好界面**：
  - 图形化操作界面，无需命令行
  - 扫描结果可视化展示
  - 支持选择性清理
  - 实时进度显示
  - 清晰的日志记录

- **安全清理**：
  - 对长期未使用的虚拟环境默认不选中，防止误删
  - 清理前确认对话框
  - 详细的操作日志

## 🛠️ 技术实现

- 使用**PySide6**（Qt for Python）构建跨平台GUI
- 多线程设计，扫描和清理过程不阻塞UI
- 信号与槽机制实现线程间通信
- 文件系统操作使用Python标准库

## 📊 功能模块

### 1. 扫描引擎 (Scanner)

扫描引擎运行在独立线程中，负责递归搜索指定路径下的Python残留文件：

- 支持多路径并行扫描
- 可配置的扫描选项
- 自动计算文件和目录大小
- 使用信号实时更新UI

### 2. 清理引擎 (Cleaner)

清理引擎同样运行在独立线程中：

- 安全删除选中的文件和目录
- 错误处理机制，防止权限问题或文件占用导致的失败
- 清理进度实时反馈
- 释放空间统计

### 3. 用户界面 (PythonCleanerUI)

用户界面提供直观的操作方式：

- 左侧控制面板：扫描选项、操作按钮、日志显示
- 右侧结果面板：文件树形列表、代码查看
- 实时进度条和状态栏

## 💡 使用方法

1. **选择扫描路径**：
   - 使用默认路径（用户主目录、Python安装目录、临时目录）
   - 或手动添加自定义扫描路径

2. **配置扫描选项**：
   - 选择需要扫描的文件类型
   - 设置虚拟环境被视为"未使用"的天数阈值

3. **开始扫描**：
   - 点击"开始扫描"按钮
   - 查看实时进度

4. **选择清理项目**：
   - 在结果列表中勾选需要清理的项目
   - 可使用"全选"和"取消全选"按钮

5. **执行清理**：
   - 点击"清理选中项目"按钮
   - 确认操作
   - 等待清理完成

## 📋 应用场景

- **日常Python开发清理**：定期清理开发过程中产生的缓存和临时文件
- **磁盘空间紧张**：快速释放被Python项目占用的无用空间
- **系统优化**：移除不再使用的Python虚拟环境
- **项目交付前清理**：在发布或分享项目前移除不必要的文件

## 📄 代码获取

该工具支持将源代码保存为Python文件，方便用户进行二次开发或定制：

1. 切换到"代码"选项卡
2. 点击"保存代码至文件"按钮
3. 选择保存位置

## ⚙️ 依赖项

- Python 3.6+
- PySide6（Qt for Python）

## 📊 性能考虑

- 使用多线程避免UI卡顿
- 扫描和清理过程可随时中断
- 大型目录扫描时使用进度反馈
- 虚拟环境通过访问时间判断是否废弃，而非简单规则

## 🔒 注意事项

- 清理操作是永久性的，被删除的文件无法恢复
- 对于虚拟环境的清理需谨慎，特别是在共享开发环境中
- 在系统目录执行清理前请确认您有足够的权限

## 🚀 开始使用

1. 确保安装了必要的依赖：`pip install PySide6`
2. 运行Python脚本：`python python-cleaner.py`
3. 按照界面提示进行操作

---

*本工具旨在帮助Python开发者维护干净的工作环境，提高工作效率，优化磁盘空间使用。* 